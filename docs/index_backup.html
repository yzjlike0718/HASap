<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>HASap Overview</title>

<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:16px;}
  table{border-collapse:collapse;width:100%;}
  th,td{border:1px solid #ddd;padding:4px;vertical-align:top;}
  th{position:sticky;top:0;background:#fafafa;z-index:1;}
  tr:nth-child(even){background:#fcfcfc;}
  .sid{white-space:nowrap;font-weight:600;}

  audio{outline:none;}
  .sys audio{width:150px;max-width:100%;}

  .trans{white-space:pre-wrap;line-height:1.4;}
  .sys{min-width:140px;}

  :root { --trans-col: clamp(22rem, 48vw, 56rem); }
  .muted{color:#999;}

  thead th:last-child,
  tbody td.trans {
    width: var(--trans-col);
    max-width: var(--trans-col);
  }
  td.trans {
    white-space: normal;
    overflow-wrap: anywhere;
    line-height: 1.4;
  }

  .abstract{
    border:1px solid #e5e5e5;background:#fafafa;padding:12px 14px;border-radius:10px;
    max-width: 1024px;
    margin: 0 auto 16px;
  }
  .abstract h3{margin:0 0 6px 0;font-size:1.05rem}
  .abstract p{margin:6px 0}
  .abstract .links{margin-top:8px;font-size:.95rem}
  .abstract .links a{margin-right:12px}

  .pipeline{
    display:block;
    width:100%;
    max-width: 980px;
    height:auto;
    margin: 8px auto;
    border:1px solid #ddd;border-radius:10px;background:#fff;
  }

  .table-wrap{
    max-width: 1024px;
    margin: 0 auto;
  }

  h1, h2, h3, .muted, .links { text-align: center; }
</style>
</head>

<body>
  <h1>HASAP: Hierarchical Acoustic-Semantic Annotation Pipeline for Scripted Speech Data</h1>

  <section class="abstract">
    <h3>Abstract</h3>
    <p>
      Scripted speech (e.g., audiobooks, dramas) is a rich source for expressive text-to-speech (TTS) synthesis as it tightly couples narrative semantics with acoustic delivery.
      However, conventional data annotation pipelines either process utterances in isolation or rely solely on text cues, resulting in supervision that is inconsistent across utterances and only weakly grounded in acoustics.
      To overcome these limitations, we propose <strong>HASap</strong>, a novel <strong>h</strong>ierarchical <strong>a</strong>cousticâ€“<strong>s</strong>emantic <strong>a</strong>nnotation <strong>p</strong>ipeline that integrates three levels of supervision:
      (i) global narrative semantics inferred by LLM, (ii) utterance-level delivery style reconciled with scene and role context, and (iii) local prosodic emphasis derived from acoustic cues.
      In addition, the pipeline performs context-aware resegmentation to produce role-consistent and semantically coherent speech segments, making them suitable for controllable and expressive TTS training.
      Tested on the StoryTTS dataset with CosyVoice&nbsp;2, HASap significantly outperforms both text-only and unannotated baselines on objective and subjective metrics.
      Ablation studies confirm that hierarchical annotations provide effective control over both overall expressiveness and fine-grained prosody.
    </p>

    <div class="links">
      ğŸ“¦ <a href="https://github.com/yzjlike0718/HASap" target="_blank" rel="noopener">GitHub</a>
    </div>

    <img class="pipeline" src="assets/pics/pipeline.png" alt="HASap pipeline" loading="lazy">
  </section>

  <h2>Annotation Systems Comparison</h2>
  
  <div class="table-wrap">
    <p class="muted"><strong>Compared systems.</strong> We compare three systems trained on StoryTTS with a CosyVoice&nbsp;2 backbone: (i) <strong>HASap</strong>: trained with HASap annotations; (ii) <strong>StoryTTS-Orig</strong>: trained with the original StoryTTS annotations; (iii) <strong>Transcript-only</strong>: trained without additional expressiveness annotations. These systems differ only in supervision. For reference, we also report <strong>GT</strong> (ground-truth recordings).</p>
    <table>
      <thead>
        <tr>
          <th class='sys'>HASap</th>
          <th class='sys'>StoryTTS-Orig</th>
          <th class='sys'>Transcript-only</th>
          <th class='sys'>GT</th>
          <th>Transcript</th>
        </tr>
      </thead>
      <tbody>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/001.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/001.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/001.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/001.wav'></audio></td><td class='trans'>å°±è¿™ä¸€ç¬‘ä¸è¦ç´§ï¼Œä¸»çˆ¶è¡è§‰å¾—æ¯›éª¨æ‚šç„¶ï¼Œ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/002.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/002.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/002.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/002.wav'></audio></td><td class='trans'>æ—¨æ„ç®—ä¼ ä¸‹å»äº†ï¼Œåˆ¹é‚£é—´æœå ‚ä¹‹ä¸Šé¸¦é›€æ— å£°ï¼Œæ–‡æ­¦ç™¾å®˜å…¨éƒ½å“å‚»äº†ï¼Œä¸»çˆ¶è¡å¯äº†ä¸å¾—å‡ºè¿™è®¡ç­–ï¼Œå¤§å®¶ä¼™ä½ çœ‹çœ‹æˆ‘ï¼Œæˆ‘çœ‹çœ‹ä½ ï¼Œçœ‹ç€çœ‹ç€éƒ½å·çœ¼è§‚ç§ä¸œæ–¹æœ”ï¼Œä¸œæ–¹æœ”è¿™æ—¶å€™å¹²ä»€ä¹ˆå‘¢ï¼Ÿ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/003.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/003.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/003.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/003.wav'></audio></td><td class='trans'>çš‡ä¸Šï¼Œè‡£æ›¾ç»è®¡ç®—è¿‡ï¼Œæˆ‘å¤§æ±‰ï¼Œå‡¡æ˜¯å®¶äº§åœ¨äº”ç™¾ä¸‡æ°‘ä»¥ä¸Šï¼Œç”°åœ°åœ¨äº”åƒäº©ä»¥ä¸Šï¼Œå®¶å¥´åœ¨äº”ç™¾äººä»¥ä¸Šçš„å¯Œè±ªï¼Œå¦‚æœéƒ½è¿åˆ°èŒ‚é™µï¼Œè‡³å°‘å¾—ä¸‰ç™¾å¤šå®¶ã€‚</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/004.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/004.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/004.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/004.wav'></audio></td><td class='trans'>è€ç™¾å§“å¾€æ—è¾¹ä¸€é—ªï¼Œå¤§ä¾ éƒ­è§£ï¼Œè…¾è…¾è…¾å¾€å‰èµ°äº†å‡ æ­¥ã€‚ç«™åˆ°äº†è¥å‰ï¼Œ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/005.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/005.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/005.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/005.wav'></audio></td><td class='trans'>å°†å†›ï¼Œæˆ‘éƒ­è§£æœ‰ä½•å¾·èƒ½è®©ä½ ä»¬çˆ¶å­è¿™æ ·ä¿¡ä»»äºæˆ‘ï¼Ÿ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/006.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/006.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/006.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/006.wav'></audio></td><td class='trans'>å…¬å­™å¼˜ä¸€å¬ï¼Œå¾€åå€’é€€äº†ä¸¤æ­¥ï¼Œä¸è¿‡ä»–å¬äº†ä¹‹åå¿ƒé‡Œç¡®å®ä¹Ÿè§‰å¾—æœ‰ç‚¹å§”å±ˆä»–çŸ¥é“ï¼Œç¦»éªšè¿™ä¸¤å¥è¯è¯´å¾—éå¸¸æ¸…æ¥šï¼Œè€Œä¸œæ–¹æœ”ç”¨å®å‰‘æŒ‡ç€è‡ªå·±æœ—è¯µå‡ºè¿™ä¸¤å¥è¯æ¥ï¼Œ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/007.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/007.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/007.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/007.wav'></audio></td><td class='trans'>åªè¦å¤ªå­åœ¨è¿™æ‹›å…µä¹°é©¬æ’å…µå¸ƒé˜µçš„æƒ…å½¢ä¼ åˆ°é•¿å®‰åŸï¼Œçš‡ä¸Šç»ä¸ä¼šå–„ç½¢ç”˜ä¼‘ï¼Œææ€•æ·®å—ç‹è½å¤§å¹´çºªå°±å¾—æ­»åœ¨è¿™ä»¶äº‹ä¸Šï¼Œå†è¯´ï¼Œé›·è´ä¹Ÿå¬è¯´äº†ï¼Œéƒ­è§£éƒ­å¤§ä¾ ï¼ç°åœ¨é€ƒå‡ºåœ¨å¤–ï¼Œè€Œä¸”ç°åœ¨é»„æ¦œå·²ç„¶è´´å‡ºæ¥äº†ã€‚è¦æ‰æ‹¿éƒ­è§£ï¼Œçš‡ä¸Šæ˜¯éæ€éƒ­è§£ä¸å¯ã€‚</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/008.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/008.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/008.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/008.wav'></audio></td><td class='trans'>å› ä¸ºå…¬å­™å¼˜æ˜¯ä¸ªå¤§å„’è€…å‘€ï¼ä»–å¬å‡ºæ¥äº†ï¼Œä¸œæ–¹æœ”æœ—è¯µçš„æ˜¯å±ˆåŸçš„ç¦»éªšï¼Œå’±ä»¬éƒ½çŸ¥é“ï¼Œå±ˆåŸå§“å±ˆï¼Œåå¹³è‡ªåŸï¼Œåœ¨ç¦»éªšå½“ä¸­ï¼Œä»–ç§°è‡ªå·±ä¸ºçµå›ï¼Œ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/009.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/009.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/009.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/009.wav'></audio></td><td class='trans'>å› ä¸ºå±ˆåŸå‡ºç”Ÿçš„æ—¶å€™ï¼Œæ­£æ˜¯æ›´è¡£å¹´ï¼Œåˆæ˜¯æ›´è¡£æœˆï¼Œåˆæ˜¯æ›´è¡£æ—¥ï¼Œè€Œä¸”è¿™å¹´ä»–å‡ºç”Ÿçš„æ—¥å­ä¹Ÿæ­£å¥½æ˜¯å¤§å¹´åˆä¸€ï¼Œå±ˆåŸè®¤ä¸ºè‡ªå·±ï¼Œå‡ºç”Ÿå°±ä¸æ˜¯ä¸ªå‡¡äººï¼Œå°†æ¥å¿…å¤§æœ‰ä½œä¸ºï¼Œè€Œä¸œæ–¹æœ”å‘¢ï¼Œæ°æ°ä¹Ÿæ˜¯å¤§å¹´åˆä¸€ç”Ÿçš„ï¼Œ</td></tr>
        <tr><td class="sys"><audio controls preload='none' src='assets/audios/compare/HASap/010.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/StoryTTS-Orig/010.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/Transcript-only/010.wav'></audio></td><td class="sys"><audio controls preload='none' src='assets/audios/compare/GT/010.wav'></audio></td><td class='trans'>ä¸œæ–¹å¤«äººï¼Œä½ å…ˆæ›¿æœ•æƒ³æƒ³åŠæ³•ï¼Œæ–‡å›å‘ï¼Œæœ•å¬è¯´ä½ ç´å¼¹å¾—éå¸¸å¥½ï¼Œå¯æ˜¯æœ•ä»æ¥ä¹Ÿæ²¡æœ‰å¬è¿‡ï¼Œä»Šå¤©èƒ½ç»™æœ•å¼¹å¥ä¸€æ›²å—ï¼Ÿ</td></tr>
      </tbody>
    </table>
  </div>
</body>
</html>
