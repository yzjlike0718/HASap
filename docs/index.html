<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="generator" content="Hugo 0.88.1" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
	<link rel="stylesheet" href="assets/css/custom.css">
	<link rel="stylesheet" href="assets/css/normalize.css">

	<link href="assets/css/bootstrap.min.css" rel="stylesheet">

</head>


<body data-new-gr-c-s-check-loaded="14.1091.0" data-gr-ext-installed="">

<div class="container" >
<header role="banner">
</header>
<main role="main">
<article itemscope itemtype="https://schema.org/BlogPosting">

<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
	<div class="text-center">
	<h3>HASap: Hierarchical Acoustic-Semantic Annotation Pipeline for Scripted Speech Data</h3>
	</div>
	<p><b>Abstract.</b> Scripted speech (e.g., audiobooks, dramas) is a rich source for expressive text-to-speech (TTS) synthesis as it tightly couples narrative semantics with acoustic delivery. However, conventional data annotation pipelines either process utterances in isolation or rely solely on text cues, resulting in supervision that is inconsistent across utterances and only weakly grounded in acoustics. To overcome these limitations, we propose <strong>HASap</strong>, a novel <strong>h</strong>ierarchical <strong>a</strong>coustic–<strong>s</strong>emantic <strong>a</strong>nnotation <strong>p</strong>ipeline that integrates three levels of supervision: (i) global narrative semantics inferred by LLM, (ii) utterance-level delivery style reconciled with scene and role context, and (iii) local prosodic emphasis derived from acoustic cues. In addition, the pipeline performs context-aware resegmentation to produce role-consistent and semantically coherent speech segments, making them suitable for controllable and expressive TTS training. Tested on the StoryTTS dataset with CosyVoice&nbsp;2, HASap significantly outperforms both text-only and unannotated baselines on objective and subjective metrics. Ablation studies confirm that hierarchical annotations provide effective control over both overall expressiveness and fine-grained prosody.
	</p>

	<p style="text-align: center;">
		📦 <a href="https://github.com/yzjlike0718/HASap" target="_blank" rel="noopener">GitHub</a>
	</p>

	<b>Contents</b>
      <ul>
        <li><a href="#model-overview">System Overview</a></li>
        <li><a href="#Annotation_Systems_Comparison">Annotation Systems Comparison</a></li>
        <li><a href="#audiobook_samples">Audiobook Synthesis</a></li>
      </ul>
	</p>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">		
	<h3 id="model-overview" style="text-align: center;">System Overview</h3>

	<p style="text-align: center;">
		<img src="assets/pics/pipeline.png" height="400" width="800">
	</p>

	<p style="text-align: center;" >
		<b>Figure 1.</b> Overview of the HASap pipeline. The workflow comprises three stages: (1) Speech Preprocessing; (2) Hierarchical Annotation; and (3) Context-Aware Resegmentation. Example texts originate in Chinese and are shown here in English translation.
	</p>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
    <h3 id="Annotation_Systems_Comparison" style="text-align: center;">Annotation Systems Comparison</h3>
    
    <p>
        <strong>Compared systems:</strong> We compare three systems trained on StoryTTS with a CosyVoice 2 backbone:
        (i) <strong>HASap</strong> – trained with HASap annotations;
        (ii) <strong>StoryTTS-Orig</strong> – trained with the original StoryTTS annotations;
        (iii) <strong>Transcript-only</strong> – trained without additional expressiveness annotations.
        These systems differ only in supervision. For reference, we also report <strong>GT</strong> (ground-truth recordings).
    </p>

    <div class="table-responsive pt-3">
        <table class="table table-hover pt-2">
            <thead>
                <tr>
                    <th style="text-align:center;">Text</th>
                    <th style="text-align:center;">HASap</th>
                    <th style="text-align:center;">StoryTTS-Orig</th>
                    <th style="text-align:center;">Transcript-only</th>
                    <th style="text-align:center;">GT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">就这一笑不要紧，主父衍觉得毛骨悚然，</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/001.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/001.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/001.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/001.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">旨意算传下去了，刹那间朝堂之上鸦雀无声，文武百官全都吓傻了，主父衍可了不得出这计策，大家伙你看看我，我看看你，看着看着都偷眼观瞧东方朔，东方朔这时候干什么呢？</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/002.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/002.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/002.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/002.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">皇上，臣曾经计算过，我大汉，凡是家产在五百万民以上，田地在五千亩以上，家奴在五百人以上的富豪，如果都迁到茂陵，至少得三百多家。</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/003.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/003.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/003.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/003.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">老百姓往旁边一闪，大侠郭解，腾腾腾往前走了几步。站到了营前，</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/004.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/004.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/004.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/004.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">将军，我郭解有何德能让你们父子这样信任于我？</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/005.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/005.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/005.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/005.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">公孙弘一听，往后倒退了两步，不过他听了之后心里确实也觉得有点委屈他知道，离骚这两句话说得非常清楚，而东方朔用宝剑指着自己朗诵出这两句话来，</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/006.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/006.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/006.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/006.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">只要太子在这招兵买马排兵布阵的情形传到长安城，皇上绝不会善罢甘休，恐怕淮南王落大年纪就得死在这件事上，再说，雷贝也听说了，郭解郭大侠！现在逃出在外，而且现在黄榜已然贴出来了。要捉拿郭解，皇上是非杀郭解不可。</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/007.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/007.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/007.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/007.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">因为公孙弘是个大儒者呀！他听出来了，东方朔朗诵的是屈原的离骚，咱们都知道，屈原姓屈，名平自原，在离骚当中，他称自己为灵君，</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/008.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/008.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/008.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/008.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">因为屈原出生的时候，正是更衣年，又是更衣月，又是更衣日，而且这年他出生的日子也正好是大年初一，屈原认为自己，出生就不是个凡人，将来必大有作为，而东方朔呢，恰恰也是大年初一生的，</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/009.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/009.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/009.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/009.wav"/></audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">东方夫人，你先替朕想想办法，文君呐，朕听说你琴弹得非常好，可是朕从来也没有听过，今天能给朕弹奏一曲吗？</td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/HASap/010.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/StoryTTS-Orig/010.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/Transcript-only/010.wav"/></audio></td>
                    <td style="vertical-align:middle; text-align:center;" controls style="width:180px;"><source src="assets/audios/compare/GT/010.wav"/></audio></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
	<h3 id="audiobook_samples" style="text-align: center;">Audiobook Synthesis</h3>
	<br>
		<!-- <div class="table-responsive pt-3">
			<table class="table table-hover pt-2">
				<thead>
				<tr>
				<th style="text-align: center"> </th>
				<th style="text-align: center">Text </th>
				<th style="text-align: center">Generated</th>
				</tr>
				</thead>
				<tbody>
					<tr>
						<td style="vertical-align:middle; text-align:center;">Multi-speaker</td>
						<td style="vertical-align:middle; text-align:left;">“这个药丸……不会是迷药或者春药之类的东西吧？我怎么闻着香味儿和两位姐姐说的那么相似？嗯，你该不会……想对我图谋不轨吧？”韩立闻言是愣了半天呐，他现在突然有种吐血三碗的感觉，这女孩儿的心思也太难以捉摸了吧，竟然能把迎香丸，联想到春药上。哎呀韩立现在也不知是该佩服对方的谨慎小心，还是应该为自己的无故蒙冤，而大呼三声了。“看样子，你好像说的是真的。不过，我还是要把它拿去给二姐检验下才能用，毕竟我们女儿家，要小心为上。”“咳，咳，呃随便你了。”韩立无言，只能干咳几声，掩饰一下自己脸上的窘迫，他现在觉得呀，自己还是离这个小妖精远点的好，否则，不知什么时候就要被她给郁闷死了。“哼哼，不过，如果这药真像你所说的那么好用，那就算你过关啦！今后师兄在莫府有什么为难的事，尽管可以来找彩环帮忙。我只要收些小小的报酬，就肯定能帮你完全解决。”“行啊，师妹，师兄有事，一定找你帮忙。”韩立这时也恢复了常态，皮笑肉不笑地回应着此话，心里呀，却在恶狠狠地想到：“找你这个小财迷才怪了。”</td>
						<td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width: 190px;"><source src="audios/Novel_samples/multi-speaker/-6104864180139059628.wav" autoplay/>Your browser does not support the audio element.</audio></td>
					</tr>
					<tr>
						<td style="vertical-align:middle; text-align:center;">Speaker1</td>
						<td style="vertical-align:middle; text-align:left;">老夫人疑惑，“娇娇，你今儿是怎么了？”平日里，她的娇娇儿和萧弈的关系也没这么好。“我……”南宝衣生怕被发现端倪，又有心提醒老夫人萧弈将来前程不可限量，于是哽咽着扑进老人怀里，“我没有爹娘疼，二哥哥也没有爹娘疼，府里的人都不搭理他，就算他在书院考了一甲也没人在意，二哥哥好可怜呜呜呜……”季嬷嬷笑道：“老奴瞧着，五小姐怕是和二公子有缘呢。”</td>
						<td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width: 190px;"><source src="audios/Novel_samples/single-speaker/-842185376157462681.wav" autoplay/>Your browser does not support the audio element.</audio></td>
					</tr>
					<tr>
						<td style="vertical-align:middle; text-align:center;">Speaker2</td>
						<td style="vertical-align:middle; text-align:left;">我也不知是哪里来的勇气，一把抓住那放肆的手，可就在我抓住那手的瞬间，他将脸埋在我的耳边深吸一口，“别动。”“你……你到底要干什么呀？你饶了我吧，我真的错了，只要你放了我，你要我烧什么给你都行！”“你是我的女人，我只要你。”“欸哟，我给你烧蚕丝被，烧电热毯，再给你烧十个仿真娃娃，要啥明星款式都有。欸呀求求你放了我吧。”我说着都快哭了，抓着他的手也抖的厉害。哪知他听了噗嗤一笑，一口咬住我的耳珠狠狠的吮吸着，“不要再挣扎了，你生是我的妻，死是我的鬼！”</td>
						<td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width: 190px;"><source src="audios/Novel_samples/single-speaker/-3810254197712667818.wav" autoplay/>Your browser does not support the audio element.</audio></td>
					</tr>
				</tbody>
			</table>
		</div> -->
	<br>
</div>


</article>
</main>
</div>

</body>
</html>