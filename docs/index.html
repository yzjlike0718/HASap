<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="generator" content="Hugo 0.88.1" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
	<link rel="stylesheet" href="assets/css/custom.css">
	<link rel="stylesheet" href="assets/css/normalize.css">

	<link href="assets/css/bootstrap.min.css" rel="stylesheet">

</head>


<body data-new-gr-c-s-check-loaded="14.1091.0" data-gr-ext-installed="">

<div class="container" >
<header role="banner">
</header>
<main role="main">
<article itemscope itemtype="https://schema.org/BlogPosting">

<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
	<div class="text-center">
	<h3>HASap: Hierarchical Acoustic-Semantic Annotation Pipeline for Scripted Speech Data</h3>
	</div>
	<p><b>Abstract.</b> Scripted speech (e.g., audiobooks, dramas) is a rich source for expressive text-to-speech (TTS) synthesis as it tightly couples narrative semantics with acoustic delivery. However, conventional data annotation pipelines either process utterances in isolation or rely solely on text cues, resulting in supervision that is inconsistent across utterances and only weakly grounded in acoustics. To overcome these limitations, we propose <strong>HASap</strong>, a novel <strong>h</strong>ierarchical <strong>a</strong>coustic–<strong>s</strong>emantic <strong>a</strong>nnotation <strong>p</strong>ipeline that integrates three levels of supervision: (i) global narrative semantics inferred by LLM, (ii) utterance-level delivery style reconciled with scene and role context, and (iii) local prosodic emphasis derived from acoustic cues. In addition, the pipeline performs context-aware resegmentation to produce role-consistent and semantically coherent speech segments, making them suitable for controllable and expressive TTS training. Tested on the StoryTTS dataset with CosyVoice&nbsp;2, HASap significantly outperforms both text-only and unannotated baselines on objective and subjective metrics. Ablation studies confirm that hierarchical annotations provide effective control over both overall expressiveness and fine-grained prosody.
	</p>

	<p style="text-align: center;">
		📦 <a href="https://github.com/yzjlike0718/HASap" target="_blank" rel="noopener">GitHub</a>
	</p>

	<b>Contents</b>
      <ul>
        <li><a href="#model-overview">System Overview</a></li>
        <li><a href="#Annotation_Systems_Comparison">Annotation Systems Comparison</a></li>
        <li><a href="#audiobook_samples">Audiobook Synthesis</a></li>
      </ul>
	</p>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">		
	<h3 id="model-overview" style="text-align: center;">System Overview</h3>

	<p style="text-align: center;">
		<img src="assets/pics/pipeline.png" height="400" width="800">
	</p>

	<p style="text-align: center;" >
		<b>Figure 1.</b> Overview of the HASap pipeline. The workflow comprises three stages: (1) Speech Preprocessing; (2) Hierarchical Annotation; and (3) Context-Aware Resegmentation. Example texts originate in Chinese and are shown here in English translation.
	</p>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
    <h3 id="Annotation_Systems_Comparison" style="text-align: center;">Annotation Systems Comparison</h3>
    
    <p style="text-align: center;">
        <strong>Compared systems:</strong> We compare three systems trained on StoryTTS with a CosyVoice 2 backbone:<br>
        (i) <strong>HASap</strong>: trained with HASap annotations;<br>
        (ii) <strong>StoryTTS-Orig</strong>: trained with the original StoryTTS annotations;<br>
        (iii) <strong>Transcript-only</strong>: trained without additional expressiveness annotations.<br>
        These systems differ only in supervision. For reference, we also report <strong>GT</strong> (ground-truth recordings).
    </p>

    <div class="table-responsive pt-3">
        <table class="table table-hover pt-2">
            <thead>
                <tr>
                    <th style="text-align:center;">Text</th>
                    <th style="text-align:center;">HASap</th>
                    <th style="text-align:center;">StoryTTS-Orig</th>
                    <th style="text-align:center;">Transcript-only</th>
                    <th style="text-align:center;">GT</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">就这一笑不要紧，主父衍觉得毛骨悚然，</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/001.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/001.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/001.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/001.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">旨意算传下去了，刹那间朝堂之上鸦雀无声，文武百官全都吓傻了，主父衍可了不得出这计策，大家伙你看看我，我看看你，看着看着都偷眼观瞧东方朔，东方朔这时候干什么呢？</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/002.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/002.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/002.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/002.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">皇上，臣曾经计算过，我大汉，凡是家产在五百万民以上，田地在五千亩以上，家奴在五百人以上的富豪，如果都迁到茂陵，至少得三百多家。</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/003.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/003.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/003.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/003.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">老百姓往旁边一闪，大侠郭解，腾腾腾往前走了几步，站到了营前。</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/004.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/004.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/004.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/004.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">将军，我郭解有何德能让你们父子这样信任于我？</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/005.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/005.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/005.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/005.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">公孙弘一听，往后倒退了两步，不过他听了之后心里确实也觉得有点委屈他知道，离骚这两句话说得非常清楚，而东方朔用宝剑指着自己朗诵出这两句话来。</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/006.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/006.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/006.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/006.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">只要太子在这招兵买马排兵布阵的情形传到长安城，皇上绝不会善罢甘休，恐怕淮南王落大年纪就得死在这件事上，再说，雷贝也听说了，郭解郭大侠！现在逃出在外，而且现在黄榜已然贴出来了。要捉拿郭解，皇上是非杀郭解不可。</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/007.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/007.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/007.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/007.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">因为公孙弘是个大儒者呀！他听出来了，东方朔朗诵的是屈原的离骚，咱们都知道，屈原姓屈，名平自原，在离骚当中，他称自己为灵君。</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/008.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/008.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/008.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/008.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">因为屈原出生的时候，正是更衣年，又是更衣月，又是更衣日，而且这年他出生的日子也正好是大年初一，屈原认为自己，出生就不是个凡人，将来必大有作为，而东方朔呢，恰恰也是大年初一生的，</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/009.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/009.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/009.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/009.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
                <tr>
                    <td style="vertical-align:middle; text-align:center;">东方夫人，你先替朕想想办法，文君呐，朕听说你琴弹得非常好，可是朕从来也没有听过，今天能给朕弹奏一曲吗？</td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/HASap/010.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/StoryTTS-Orig/010.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/Transcript-only/010.wav"/>Your browser does not support the audio element.</audio></td>
                    <td style="vertical-align:middle; text-align:center;"><audio controls="controls" style="width:185px;"><source src="assets/audios/compare/GT/010.wav"/>Your browser does not support the audio element.</audio></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<div class="container pt-5 mt-5 shadow-lg p-5 mb-5 bg-white rounded">
    <h3 id="audiobook_samples" style="text-align: center;">Audiobook Synthesis</h3>
    <br>

    <p><b>【场景描述】</b> 东方朔亮剑阻止武士带走汲黯，主父衍试图阻止东方朔说话，东方朔开始行动。</p>

    <table class="table table-bordered mt-4">
        <thead class="thead-light">
            <tr>
                <th style="text-align:center; width:25%;">角色</th>
                <th style="text-align:center;">台词</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="vertical-align:middle; text-align:center;"><b>旁白<br><small>无情感 - 害怕</small></b></td>
                <td>立刻有两名武士就过来了，一左一右把汲黯架起来<strong>往</strong>外就走，文武百官全都吓傻了，面对此情此景，谁敢替汲黯说一句话呀！就在这时候就听仓郎郎郎郎<strong>宝剑</strong>声音响，大家<strong>心说</strong>谁这么大的胆子敢在朝堂之上亮剑呢！大家众目观瞧，就瞧东方朔手持皇上赐的宝剑往前一递，</td>
            </tr>
            <tr>
                <td style="vertical-align:middle; text-align:center;"><b>东方朔<br><small>骄傲</small></b></td>
                <td>“慢！”</td>
            </tr>
            <tr>
                <td style="vertical-align:middle; text-align:center;"><b>旁白<br><small>无情感 - 害怕</small></b></td>
                <td>然后东方朔站在汲黯<strong>面前</strong>，冲着皇上<strong>长叹</strong>了一声，大家全都捏了一把汗，虽然说东方朔手中这口宝剑是皇上赐的，<strong>但是</strong>公然抗旨，皇上能饶了东方朔吗？主父衍最害怕东方朔说话呀</td>
            </tr>
            <tr>
                <td style="vertical-align:middle; text-align:center;"><b>主父衍<br><small>害怕</small></b></td>
                <td><strong>皇上</strong>，东方朔他<strong>不能</strong>说话呀！</td>
            </tr>
        </tbody>
    </table>

    <p style="text-align:center; margin-top:20px;">
        <audio controls="controls" style="width:300px;">
            <source src="assets/audios/episode94_scene1.wav" type="audio/wav"/>
            Your browser does not support the audio element.
        </audio>
    </p>
</div>


</article>
</main>
</div>

</body>
</html>